service: thing
frameworkVersion: '3'

provider:
  name: aws
  runtime: python3.9
  region: us-west-1

functions:
  hello:
    handler: handler.hello
    layers:
      - arn:aws:lambda:us-west-1:184161586896:layer:opentelemetry-python-0_1_0:1
    environment:
      AWS_LAMBDA_EXEC_WRAPPER: /opt/otel-instrument
      OTEL_EXPORTER_OTLP_TRACES_ENDPOINT: https://ingest.lightstep.com/traces/otlp/v0.9
      OTEL_EXPORTER_OTLP_METRICS_ENDPOINT: https://ingest.lightstep.com/metrics/otlp/v0.9
      OTEL_EXPORTER_OTLP_TRACES_HEADERS: "lightstep-access-token=<token>"
      OTEL_EXPORTER_OTLP_METRICS_HEADERS: "lightstep-access-token=<token>"

